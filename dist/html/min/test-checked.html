<!DOCTYPE html><html data-ng-app="App"><head><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script></head><body data-ng-controller="AddStyleCtrl"><div>Choose Tags</div><div><div>You have choosen:</div><hr><label data-ng-repeat="selectedTag in selectedTags">(({{selectedTag}}))</label><hr><div data-ng-repeat="category in tagcategories"><div>{{ category.name }}</div><div data-ng-repeat="tag in category.tags"><div><input type="checkbox" id="{{tag.id}}" name="{{tag.name}}" ng-checked="isSelected(tag.id)" ng-click="updateSelection($event,tag.id)"> {{ tag.name }}</div></div><hr></div></div><pre>{{selected|json}}</pre><pre>{{selectedTags|json}}</pre><script>var iApp=angular.module("App",[]);iApp.controller("AddStyleCtrl",function(e){e.tagcategories=[{id:1,name:"Color",tags:[{id:1,name:"color1"},{id:2,name:"color2"},{id:3,name:"color3"},{id:4,name:"color4"}]},{id:2,name:"Cat",tags:[{id:5,name:"cat1"},{id:6,name:"cat2"}]},{id:3,name:"Scenario",tags:[{id:7,name:"Home"},{id:8,name:"Work"}]}],e.selected=[],e.selectedTags=[];var d=function(d,a,t){if("add"==d&&e.selected.indexOf(a)==-1&&(e.selected.push(a),e.selectedTags.push(t)),"remove"==d&&e.selected.indexOf(a)!=-1){var c=e.selected.indexOf(a);e.selected.splice(c,1),e.selectedTags.splice(c,1)}};e.updateSelection=function(e,a){var t=e.target,c=t.checked?"add":"remove";d(c,a,t.name)},e.isSelected=function(d){return e.selected.indexOf(d)>=0}})</script></body></html>